# Quality Checks

## 1. Generation of the quality reports

### 1.1 (Optional) Make sure that conda is available on your default bash environment

NOTE: This check is necessary, as Gitpod deletes the previous customizations on bash and therefore `bash` **forgets** about `conda`

```
conda --version
```

**If it is NOT available**, then please do the following on the terminal 


```
conda init bash 

exec $SHELL

```

### 1.2 Create a new conda environment called `qc-env` and activate it

This environment will contain the `fastqc` and `multiqc` tools

```bash
conda create --name qc-env --channel bioconda --channel conda-forge fastqc multiqc
```

Then, activate the conda `qc-env` 

```bash
conda activate qc-env
```

### 1.3 Confirm that `fastqc` and `multiqc` are installed

- FastQC 

```bash
fastqc --version
```

- MultiQC 


```bash
multiqc --version
```


### 1.4 Run `fastqc` on the previously downloaded (test) `FASTQ` files

```bash
fastqc covid_1.fastq.gz

fastqc covid_2.fastq.gz

```

Confirm that you have the `html` and `zip` files generated by `fastqc` for both of the `FASTQ` files.

```
covid_1_fastqc.html
covid_1_fastqc.zip


covid_2_fastqc.html
covid_2_fastqc.zip
```


### 1.5 Run `multiqc` in a folder containing these `fastqc` reports (`zip` and `html` files)

```
multiqc ./
```

## 2 Visualization of the quality reports i.e. HTML files

To view the HTML files, it is necessary to either 

- Option-1: Download the files to **your own local machine** and open them in your browser

- Option-2: Run a program (called `web server`) on a **remote (shared) machine** which knows how to show the HTML file in the browser


**NOTE:** Since Gitpod is a remote environment, we'll choose Option-2.

### 2.1 Run a web server using Python

```bash
python -m http.server 8000
```

You should see a notification on the bottom-left of the screen for this PORT, `A service is available on port 8000`, click on `Open Browser` and then select the `html` files.

**If you do NOT** see that notification, please navigate to another tab in your browser add `8000` to the beginning of your Gitpod URL, for example `8000-biosharpdotn-tdrcgitpod-ehsr91d5nlc.ws-eu43.gitpod.io/`


### 2.2 Choose the HTML files from the web server index page

You should now be able to see the generated HTML outputs
